from django.db import models

from core.models import NameDescriptionBaseModel


# TODO: remove RunResult model after release v0.29.0
class RunResult(NameDescriptionBaseModel):
    """
    Includes the result and any other output generated by the job.
    """

    run = models.OneToOneField("run.Run", on_delete=models.CASCADE, related_name="archive_result")
    mime_type = models.CharField(
        max_length=100,
        editable=False,
        blank=True,
        help_text="Storing the mime-type of the output file",
    )
    size = models.PositiveIntegerField(editable=False, default=0, help_text="Size of the result stored")

    class Meta:
        db_table = "run_result"
        ordering = ["-created_at"]
